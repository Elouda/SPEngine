SPEFamily:NEEDS[RealFuels]
{
	letter = J
	description = Large hydrolox vacuum engine, like J-2.
	minTf = 0.2
	TechLevel
	{
		// J-2-200klbf = 140000, HydroloxPumps, Navaho-TP
		techRequired = improvedHydrolox
		maxThrust = 1000
		minThrottle = 0.76
		isp
		{
			key = 0 424
			key = 1 200
		}
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 0.7454
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.2546
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.500
		}
		maxIgnitions = 2
		mass = 1.77
		entryCost = 120000
		entryCost = HydroloxPumps
		entryCost = Navaho-TP
		cost = 1950 // yields 1694 for a J-2-200klbf
		toolCost = 23000 // yields 19980.2 for a J-2-200klbf
	}
	TechLevel
	{
		// J-2 = 30000, J-2-200klbf
		techRequired = largeHydrolox
		maxThrust = 1150
		minThrottle = 0.76
		isp
		{
			key = 0 424
			key = 1 200
		}
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 0.7454
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.2546
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.500
		}
		maxIgnitions = 3
		mass = 1.734
		entryCost = 20000
		cost = 2300 // yields 1998 for an upgraded J-2-200klbf
		toolCost = 30000 // yields 10077 to upgrade from a J-2-200klbf
	}
	TechLevel
	{
		// J-2S = 80000, J-2
		techRequired = hydrolox1972
		maxThrust = 1280
		minThrottle = 0.76
		isp
		{
			key = 0 436
			key = 1 200
		}
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 0.7454
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.2546
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.500
		}
		maxIgnitions = 3
		mass = 1.688
		entryCost = 60000
		cost = 1725 // yields 1498.5 for an upgraded J-2-200klbf
		toolCost = 47000 // yields 19980.2 to continue upgrading from J-2-200klbf
	}
	TechLevel
	{
		// J-2T-200K = 0; toroidalAerospike = 66000
		techRequired = hydrolox1976
		maxThrust = 1000
		minThrottle = 0.1325
		isp
		{
			key = 0 435
			key = 1 300
		}
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 0.745
			DrawGauge = true
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.255
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 2.000
		}
		maxIgnitions = 3
		mass = 1.538
		entryCost = 40000
		cost = 3800 // yields 3301.1 for an upgraded J-2-200klbf
		toolCost = 67500 // yields 25974.3 to continue upgrading from J-2-200klbf
	}
	TechLevel
	{
		// J-2T-250K = 30000
		techRequired = hydrolox1981
		maxThrust = 1250
		minThrottle = 1.0 // No throttling capability.  I was surprised, but that's what the RO config says.
		isp
		{
			key = 0 441
			key = 1 290
		}
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 0.745
			DrawGauge = true
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.255
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 2.000
		}
		maxIgnitions = 3
		mass = 1.538
		entryCost = 18000
		cost = 3800 // yields 3301.1 for an upgraded J-2-200klbf
		toolCost = 67800 // yields 11988.1 to continue upgrading from J-2-200klbf
	}
	TechLevel
	{
		// J-2X = 0; SSTU-SC-ENG-J-2X = 158860
		techRequired = hydrolox2009
		maxThrust = 1470
		minThrottle = 0.82
		isp
		{
			key = 0 448
			key = 1 200
		}
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 0.745
			DrawGauge = true
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.255
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.500
		}
		maxIgnitions = 8
		mass = 2.713
		entryCost = 120000
		cost = 3810 // yields 3309.8 for an upgraded J-2-200klbf
		toolCost = 99000 // yields 38883.3 to continue upgrading from J-2-200klbf
	}
}

@PART[*]:HAS[@MODULE[ModuleSPEngine]:HAS[#familyLetter[J]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	!TESTFLIGHT,*{}
	TESTFLIGHT
	{
		name = SPEngine-J-0 // based on J-2-200klbf
		ratedBurnTime = 350
		ignitionReliabilityStart = 0.902
		ignitionReliabilityEnd = 0.962
		cycleReliabilityStart = 0.902
		cycleReliabilityEnd = 0.962
	}
	TESTFLIGHT
	{
		name = SPEngine-J-1 // based on J-2
		ratedBurnTime = 475
		ignitionReliabilityStart = 0.9347
		ignitionReliabilityEnd = 0.9947
		cycleReliabilityStart = 0.8879
		cycleReliabilityEnd = 0.9995
		techTransfer = SPEngine-J-0:50&J-2-200klbf:25
	}
	TESTFLIGHT
	{
		name = SPEngine-J-2 // based on J-2S
		ratedBurnTime = 500
		ignitionReliabilityStart = 0.9434
		ignitionReliabilityEnd = 0.9995
		cycleReliabilityStart = 0.948
		cycleReliabilityEnd = 0.9995
		techTransfer = SPEngine-J-1,SPEngine-J-0:50&J-2,J-2-200klbf:25
	}
	// The rest are all made-up numbers, because RO doesn't have any TF configs for J-2T or J-2X :(
	TESTFLIGHT
	{
		name = SPEngine-J-3 // J-2T-200K
		ratedBurnTime = 540 // Aerospikes are likely to be doing crazy things like SSTO that make for very long burns.
		ignitionReliabilityStart = 0.95 // not much work done on ignition because it's gonna be ground-lit anyway.  (If not, why are you using an aerospike?)
		ignitionReliabilityEnd = 0.9995
		cycleReliabilityStart = 0.96
		cycleReliabilityEnd = 0.9995
		// Based on the J-2S "machinery", so older J-2s aren't really relevant I guess?
		techTransfer = SPEngine-J-2:50&J-2S:25
	}
	TESTFLIGHT
	{
		name = SPEngine-J-4 // J-2T-250K
		ratedBurnTime = 540
		ignitionReliabilityStart = 0.96
		ignitionReliabilityEnd = 0.9995
		cycleReliabilityStart = 0.96
		cycleReliabilityEnd = 0.9995
		techTransfer = SPEngine-J-3,SPEngine-J-2:50&J-2S:15
	}
	TESTFLIGHT
	{
		name = SPEngine-J-5 // J-2X
		ratedBurnTime = 600
		ignitionReliabilityStart = 0.97
		ignitionReliabilityEnd = 0.9996
		cycleReliabilityStart = 0.97
		cycleReliabilityEnd = 0.9996
		// The aerospike stuff isn't really all that relevant to testing, here, so we care mainly about the J-2S data
		techTransfer = SPEngine-J-4,SPEngine-J-3:10&SPEngine-J-2:40&J-2S:20
	}
}
