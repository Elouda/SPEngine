SPEFamily:NEEDS[RealFuels]
{
	letter = K
	description = Kerolox atmospheric engine (not huge).  Examples include X405, LR79/89/H-1, LR87 (Titan I), Merlin1.
	minTf = 0.3
	TechLevel
	{
		// S-3
		techRequired = orbitalRocketry1956
		maxThrust = 910
		isp
		{
			key = 0 288
			key = 1 248
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.3929
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.6071
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.171
		entryCost = 7000
		entryCost = Navaho-TP
		cost = 413.5
		toolCost = 4135 // yields 3000 for S-3
	}
	TechLevel
	{
		// S-3D
		techRequired = orbitalRocketry1958
		maxThrust = 1000
		isp
		{
			key = 0 288
			key = 1 248
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.3929
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.6071
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.17
		entryCost = 1400
		entryCost = Navaho-TP-1958
		cost = 414.3
		toolCost = 4130 // yields 600 to upgrade from an S-3
	}
	TechLevel
	{
		// LR79-NA-9
		techRequired = orbitalRocketry1959
		maxThrust = 1020
		isp
		{
			key = 0 284
			key = 1 245
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.3929
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.6071
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.154
		entryCost = 1400
		entryCost = Navaho-TP-1959
		cost = 453.3
		toolCost = 4122 // yields 700 to continue upgrading from S-3
	}
	TechLevel
	{
		// LR79-NA-11
		techRequired = orbitalRocketry1960
		maxThrust = 1110
		isp
		{
			key = 0 286.2
			key = 1 248.3
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.3929
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.6071
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.143
		entryCost = 1400
		entryCost = Navaho-TP-1960
		cost = 468.4
		toolCost = 4134 // yields 600 to continue upgrading from S-3
	}
	TechLevel
	{
		// H-1-165K
		techRequired = orbitalRocketry1961
		maxThrust = 1050
		isp
		{
			key = 0 292
			key = 1 262.6
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.3842
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.6158
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.2
		entryCost = 3500
		entryCost = H1-TP
		cost = 342.9
		toolCost = 5350 // yields 1500 to continue upgrading from S-3
	}
	TechLevel
	{
		// H-1-188K
		techRequired = orbitalRocketry1964
		maxThrust = 1200
		isp
		{
			key = 0 292
			key = 1 262.6
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.3842
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.6158
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.202
		entryCost = 3500
		cost = 350.8
		toolCost = 6357 // yields 1500 to continue upgrading from S-3
	}
	TechLevel
	{
		// H-1-200K
		techRequired = orbitalRocketry1966
		maxThrust = 1275
		isp
		{
			key = 0 292
			key = 1 262.6
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.3842
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.6158
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.2
		entryCost = 7000
		cost = 357
		toolCost = 9196 // yields 3000 to continue upgrading from S-3
	}
	TechLevel
	{
		// H-1-205K
		techRequired = orbitalRocketry1970
		maxThrust = 1330
		isp
		{
			key = 0 292
			key = 1 262.6
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.3842
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.6158
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.203
		entryCost = 3500
		cost = 365.3
		toolCost = 9453 // yields 1500 to continue upgrading from S-3
	}
	TechLevel
	{
		// RS-27
		techRequired = orbitalRocketry1972
		maxThrust = 1335
		isp
		{
			key = 0 295
			key = 1 264
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.38264
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.61736
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 0
		mass = 1.25
		entryCost = 4200
		entryCost = Navaho-TP-1962 // We want to depend on RS27-System, but that depends on LR79-NA-13 and H-1-SaturnIB rather than just other TP entries.  So we have to have NRE of our own
		cost = 345.5
		toolCost = 10030 // yields 1800 to continue upgrading from S-3
	}
	TechLevel
	{
		// RS-27A
		techRequired = orbitalRocketry1986
		maxThrust = 1375
		isp
		{
			key = 0 302
			key = 1 255
		}
		PROPELLANT
		{
			name = Kerosene
			ratio = 0.38264
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.61736
		}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
		IGNITOR_RESOURCE
		{
			name = TEATEB
			amount = 1
		}
		maxIgnitions = 1 // while RS-27A didn't airlight, it doesn't seem like a completely unreasonable thing to do by this point
		mass = 1.328
		entryCost = 4200 // 6000, RS-27
		cost = 412.8
		toolCost = 10498 // yields 1800 to continue upgrading from S-3
	}
}

@PART[*]:HAS[@MODULE[ModuleSPEngine]:HAS[#familyLetter[K]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	!TESTFLIGHT,*{}
	TESTFLIGHT
	{
		name = SPEngine-K-0 // based on S-3
		ratedBurnTime = 182
		ignitionReliabilityStart = 0.833333
		ignitionReliabilityEnd = 0.966667
		cycleReliabilityStart = 0.833333
		cycleReliabilityEnd = 0.966667
	}
	TESTFLIGHT
	{
		name = SPEngine-K-1 // based on S-3D
		ratedBurnTime = 182
		ignitionReliabilityStart = 0.882353
		ignitionReliabilityEnd = 0.976471
		cycleReliabilityStart = 0.882353
		cycleReliabilityEnd = 0.976471
		techTransfer = SPEngine-K-0:50&S-3:25
	}
	TESTFLIGHT
	{
		name = SPEngine-K-2 // based on LR79-NA-9
		ratedBurnTime = 165
		ignitionReliabilityStart = 0.789773
		ignitionReliabilityEnd = 0.957955
		cycleReliabilityStart = 0.789773
		cycleReliabilityEnd = 0.957955
		techTransfer = SPEngine-K-1,SPEngine-K-0:50&S-3D,S-3:25
	}
	TESTFLIGHT
	{
		name = SPEngine-K-3 // based on LR79-NA-11
		ratedBurnTime = 165
		ignitionReliabilityStart = 0.936364
		ignitionReliabilityEnd = 0.987273
		cycleReliabilityStart = 0.936364
		cycleReliabilityEnd = 0.987273
		techTransfer = SPEngine-K-2,SPEngine-K-1,SPEngine-K-0:50&LR79-NA-9,S-3D,S-3:25
	}
	TESTFLIGHT
	{
		name = SPEngine-K-4 // based on H-1-165K
		ratedBurnTime = 155
		ignitionReliabilityStart = 0.969697
		ignitionReliabilityEnd = 0.993939
		cycleReliabilityStart = 0.969697
		cycleReliabilityEnd = 0.993939
		// A little bit of techTransfer, but mainly it's a redesign (mass is down a lot, Isp is up).
		techTransfer = SPEngine-K-3,SPEngine-K-2,SPEngine-K-1,SPEngine-K-0:15&LR79NA-11,LR79-NA-9,S-3D,S-3:5
	}
	TESTFLIGHT
	{
		name = SPEngine-K-5 // based on H-1-188K
		ratedBurnTime = 155
		ignitionReliabilityStart = 0.979592
		ignitionReliabilityEnd = 0.995918
		cycleReliabilityStart = 0.979592
		cycleReliabilityEnd = 0.995918
		techTransfer = techTransfer = SPEngine-K-4:50&H-1-165K:25
	}
	TESTFLIGHT
	{
		name = SPEngine-K-6 // based on H-1-200K
		ratedBurnTime = 155
		ignitionReliabilityStart = 0.975610
		ignitionReliabilityEnd = 0.995122
		cycleReliabilityStart = 0.975610
		cycleReliabilityEnd = 0.995122
		techTransfer = SPEngine-K-5,SPEngine-K-4:50&H-1-188K,H-1-165K:25
	}
	TESTFLIGHT
	{
		name = SPEngine-K-7 // based on H-1-205K
		ratedBurnTime = 155
		ignitionReliabilityStart = 0.969697
		ignitionReliabilityEnd = 0.993939
		cycleReliabilityStart = 0.969697
		cycleReliabilityEnd = 0.993939
		techTransfer = SPEngine-K-6,SPEngine-K-5,SPEngine-K-4:50&H-1-200K,H-1-188K,H-1-165K:25
	}
	TESTFLIGHT
	{
		name = SPEngine-K-8 // based on RS-27
		ratedBurnTime = 240
		ignitionReliabilityStart = 0.990000
		ignitionReliabilityEnd = 0.998000
		cycleReliabilityStart = 0.990000
		cycleReliabilityEnd = 0.998000
		techTransfer = SPEngine-K-7,SPEngine-K-6,SPEngine-K-5,SPEngine-K-4:50&H-1-205K,H-1-200K,H-1-188K,H-1-165K:25
	}
	TESTFLIGHT
	{
		name = SPEngine-K-9 // based on RS-27A
		ratedBurnTime = 285
		ignitionReliabilityStart = 0.992958
		ignitionReliabilityEnd = 0.998592
		cycleReliabilityStart = 0.992958
		cycleReliabilityEnd = 0.998592
		techTransfer = SPEngine-K-8:75&RS-27:38
	}
}
